{
  "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
  "title": {
    "text": "Number of Active Users on Music Streaming Platforms (2016-2023)",
    "subtitle": "Monthly active users (Millions)",
    "fontSize": 18,
    "subtitleFontSize": 13,
    "anchor": "middle",
    "font": "Times New Roman",
    "subtitleFont": "Times New Roman",
    "fontWeight": "bold"
  },
  "width": 650,
  "height": 450,
  "config": {"font": "Times New Roman"},
  "data": {
    "url": "https://raw.githubusercontent.com/Krisha15502/Krisha15502.github.io/refs/heads/main/data/streaming.csv"
  },
  "transform": [
    {
      "fold": [
        "spotify",
        "tencent_music",
        "youtube_music",
        "apple_music",
        "amazon_music",
        "netease_music"
      ],
      "as": ["platform", "users"]
    },
    {"calculate": "toNumber(datum.users)", "as": "users_num"}
  ],
  "mark": {"type": "area", "opacity": 0.8},
  "encoding": {
    "x": {
      "field": "year",
      "type": "quantitative",
      "title": "Year",
      "axis": {
        "titleFont": "Times New Roman",
        "titleFontSize": 14,
        "titleFontWeight": "bold",
        "labelFont": "Times New Roman",
        "labelFontSize": 12,
        "format": "d",
        "grid": false
      },
      "scale": {"domain": [2016, 2023]}
    },
    "y": {
      "field": "users_num",
      "type": "quantitative",
      "title": "Monthly Active Users (Millions)",
      "axis": {
        "titleFont": "Times New Roman",
        "titleFontSize": 14,
        "titleFontWeight": "bold",
        "labelFont": "Times New Roman",
        "labelFontSize": 12,
        "grid": true,
        "gridColor": "#e0e0e0"
      }
    },
    "color": {
      "field": "platform",
      "type": "nominal",
      "scale": {
        "domain": [
          "spotify",
          "apple_music",
          "youtube_music",
          "tencent_music",
          "amazon_music",
          "netease_music"
        ],
        "range": [
          "#1DB954",
          "#003D5B",
          "#C1292E",
          "#F1D302",
          "#DAC4F7",
          "#494331"
        ]
      },
      "legend": {
        "title": "Platform",
        "titleFont": "Times New Roman",
        "titleFontSize": 13,
        "titleFontWeight": "bold",
        "labelFont": "Times New Roman",
        "labelFontSize": 11,
        "orient": "right",
        "labelExpr": "datum.label == 'spotify' ? 'Spotify' : datum.label == 'apple_music' ? 'Apple Music' : datum.label == 'youtube_music' ? 'YouTube Music' : datum.label == 'tencent_music' ? 'Tencent Music' : datum.label == 'netease_music' ? 'Netease Music' : datum.label == 'amazon_music' ? 'Amazon Music': datum.label"
      }
    },
    "order": {"field": "platform", "type": "nominal"}
  }
}